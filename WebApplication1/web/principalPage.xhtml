<?xml version='1.0' encoding='UTF-8' ?>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>

        <meta charset="UTF-8"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"></link>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"></link>
        <h:outputStylesheet name="css/principalPage.css"/>
        <title>Encontre ê Pontos Turisticos</title>

    </h:head>
    <h:body>

        <b:modal id="modalView" style-class="modalView"
                 title="'Visualização de Desmanx " size="500">

            <b:panelGrid columns="2">
                <h:outputText value="#{pontosTuristicos.currentTouristSpot.nome}"/>

                <h:outputText value="Data do desmanche"/>

                <h:outputText value="Puxador"/>

                <h:outputText value="Modelo"/>

            </b:panelGrid>


        </b:modal>

        <b:growl delay="4000" show-summary="true" show-detail="true"/>

        <h:form>
            <nav id="navBar" class="navbar navbar-expand-lg navbar-red bg-red">
                <div id="divTitulo" class="container-fluid">
                    <a id="titulo" class="navbar-brand" href="#">Pontos  ê Turísticos</a>
                </div>
                <div class="container-fluid">
                    <button
                        class="navbar-toggler"
                        type="button"
                        data-mdb-toggle="collapse"
                        data-mdb-target="#navbarCenteredExample"
                        aria-controls="navbarCenteredExample"
                        aria-expanded="false"
                        aria-label="Toggle navigation">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div
                        class="collapse navbar-collapse justify-content-center"
                        id="navbarCenteredExample">
                        <!-- Left links -->
                        <ul  class="navbar-nav mb-2 mb-lg-0">
                            <li  class="nav-item">
                                <a id="corItens" class="nav-link active" aria-current="page" href="#">Home</a>
                            </li>
                            <li class="nav-item">
                                <a id="corItens" class="nav-link" href="#">O que fazer</a>
                            </li>   
                            <li class="nav-item">
                                <a id="corItens" class="nav-link" href="#">Link</a>
                            </li>   
                        </ul>
                    </div>
                </div>
            </nav>
            <div id="pesquisar" class="input-group">
                <h:inputText id="barra-pesquisar" styleClass="form-control rounded" value="#{acessoAPIGeocoding.currentSearch}"/>
                <h:commandButton type="submit" styleClass="btn btn-outline-primary" value="search" action="#{acessoAPIGeocoding.atualizarAtracoesProximas()}" />
            </div>
        </h:form>

        <h:form>

            <h:selectBooleanCheckbox value="${pontosTuristicos.isBarERestauranteFiltered}">
                <f:ajax render="baresERestaurantes" />
            </h:selectBooleanCheckbox>
            <h:outputLabel for="isBarERestauranteFiltered">Bares e Restaurantes</h:outputLabel>

            <h:selectBooleanCheckbox value="${pontosTuristicos.isCentroDeComprasFiltered}">
                <f:ajax render="centrosDeCompras" />
            </h:selectBooleanCheckbox>
            <h:outputLabel for="isCentroDeComprasFiltered">Centros de Compras</h:outputLabel>

                        <!--            <h:selectBooleanCheckbox value="${pontosTuristicos.isFeiraLiveFiltered}">
                            <f:ajax render="atracoes" />
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="isFeiraLivreFiltered">Feiras Livres</h:outputLabel>-->

            <h:selectBooleanCheckbox value="${pontosTuristicos.isHotelFiltered}">
                <f:ajax render="hoteis" />
            </h:selectBooleanCheckbox>
            <h:outputLabel for="isHotelFiltered">Hotéis</h:outputLabel>

            <h:selectBooleanCheckbox value="${pontosTuristicos.isMercadoPublicoFiltered}">
                <f:ajax render="mercadosPublicos" />
            </h:selectBooleanCheckbox>
            <h:outputLabel for="isMercadoPublicoFiltered">Mercados Publicos</h:outputLabel>

            <h:selectBooleanCheckbox value="${pontosTuristicos.isMuseuFiltered}">
                <f:ajax render="museus" />
            </h:selectBooleanCheckbox>
            <h:outputLabel for="isMuseuFiltered">Museus</h:outputLabel>

            <h:selectBooleanCheckbox value="${pontosTuristicos.isPonteFiltered}">
                <f:ajax render="pontes" />
            </h:selectBooleanCheckbox>
            <h:outputLabel for="isPonteFiltered">Pontes</h:outputLabel>

            <h:selectBooleanCheckbox value="${pontosTuristicos.isTeatroFiltered}">
                <f:ajax render="teatros" />
            </h:selectBooleanCheckbox>
            <h:outputLabel for="isTeatroFiltered">Teatros</h:outputLabel>

        </h:form>

        <f:view contentType="text/html; charset=UTF-8">

            <h:panelGroup id="atracoes">

                <h:panelGroup id = "baresERestaurantes">
                    <ui:repeat value="${pontosTuristicos.baresERestaurantes}" var="item" rendered="#{pontosTuristicos.isBarERestauranteFiltered}">

                        <h:form>
                            <b:container></b:container>
                            <b:panel styleClass="card" title="#{item.nome}" collapsible="false">
                                <h:outputText value="#{item.tipoDeAtracao}"></h:outputText>
                                <!--<f:ajax></f:ajax>--> 
                                <p:commandButton value="Visualizar" actionListener="#{pontosTuristicos.updateSelectedTouristSpot(item.id, item.tipoDeAtracao)}" oncomplete="$('#modalView').modal('show')"
                                                 update=":modalView" ajax="true" 
                                                 >
                                </p:commandButton>
                            </b:panel>
                            <b:container></b:container>
                        </h:form>

                    </ui:repeat> 

                </h:panelGroup>

                <h:panelGroup id="centrosDeCompras">
                    <ui:repeat value="${pontosTuristicos.centrosDeCompras}" var="item" rendered="#{pontosTuristicos.isCentroDeComprasFiltered}">

                        <h:form>
                            <b:container></b:container>
                            <b:panel styleClass="card" title="#{item.nome}" collapsible="false">
                                <h:outputText value="#{item.tipoDeAtracao}"></h:outputText>
                                <!--<f:ajax></f:ajax>--> 
                                <p:commandButton value="Visualizar" oncomplete="$('#modalView').modal('show')"
                                                 update=":modalView" ajax="true" actionListener="#{pontosTuristicos.updateSelectedTouristSpot(item.id, item.tipoDeAtracao)}"
                                                 >
                                </p:commandButton>
                            </b:panel>
                            <b:container></b:container>
                        </h:form>

                    </ui:repeat> 

                </h:panelGroup>

                <!--                <h:panelGroup id="feirasLivres">
                
                               <ui:repeat value="feiraLivre" var="item" rendered="#{pontosTuristicos.isFeiraLiveFiltered}">
                
                    <h:form>
                        <b:container></b:container>
                        <b:panel styleClass="card" title="#{item.nome}" collapsible="false">
                            <h:outputText value="#{item.tipoDeAtracao}"></h:outputText>
                            <f:ajax></f:ajax> 
                            <p:commandButton value="Visualizar" oncomplete="$('#modalView').modal('show')"
                                             update=":modalView" ajax="true" actionListener="#{pontosTuristicos.updateSelectedTouristSpot(item.id, item.tipoDeAtracao)}"
                                             >
                            </p:commandButton>
                        </b:panel>
                        <b:container></b:container>
                    </h:form>
                
                </ui:repeat> 
                                </h:panelGroup>-->

                <h:panelGroup id="hoteis">
                    <ui:repeat value="${pontosTuristicos.hoteis}" var="item" rendered="#{pontosTuristicos.isHotelFiltered}">

                        <h:form>
                            <b:container></b:container>
                            <b:panel styleClass="card" title="#{item.nome}" collapsible="false">
                                <h:outputText value="#{item.tipoDeAtracao}"></h:outputText>
                                <!--<f:ajax></f:ajax>--> 
                                <p:commandButton value="Visualizar" oncomplete="$('#modalView').modal('show')"
                                                 update=":modalView" ajax="true" actionListener="#{pontosTuristicos.updateSelectedTouristSpot(item.id, item.tipoDeAtracao)}"
                                                 >
                                </p:commandButton>
                            </b:panel>
                            <b:container></b:container>
                        </h:form>

                    </ui:repeat> 
                </h:panelGroup>

                <h:panelGroup id="mercadosPublicos">
                    <ui:repeat value="${pontosTuristicos.mercadosPublicos}" var="item" rendered="#{pontosTuristicos.isMercadoPublicoFiltered}">

                        <h:form>
                            <b:container></b:container>
                            <b:panel styleClass="card" title="#{item.nome}" collapsible="false">
                                <h:outputText value="#{item.tipoDeAtracao}"></h:outputText>
                                <!--<f:ajax></f:ajax>--> 
                                <p:commandButton value="Visualizar" oncomplete="$('#modalView').modal('show')"
                                                 update=":modalView" ajax="true" actionListener="#{pontosTuristicos.updateSelectedTouristSpot(item.id, item.tipoDeAtracao)}"
                                                 >
                                </p:commandButton>
                            </b:panel>
                            <b:container></b:container>
                        </h:form>

                    </ui:repeat>

                </h:panelGroup>

                <h:panelGroup id="museus">

                    <ui:repeat value="${pontosTuristicos.museus}" var="item" rendered="#{pontosTuristicos.isMuseuFiltered}">

                        <h:form>
                            <b:container></b:container>
                            <b:panel styleClass="card" title="#{item.nome}" collapsible="false">
                                <h:outputText value="#{item.tipoDeAtracao}"></h:outputText>
                                <!--<f:ajax></f:ajax>--> 
                                <p:commandButton value="Visualizar" oncomplete="$('#modalView').modal('show')"
                                                 update=":modalView" ajax="true" actionListener="#{pontosTuristicos.updateSelectedTouristSpot(item.id, item.tipoDeAtracao)}"
                                                 >
                                </p:commandButton>
                            </b:panel>
                            <b:container></b:container>
                        </h:form>

                    </ui:repeat> 

                </h:panelGroup>
                <h:panelGroup id="pontes">
                    <ui:repeat value="${pontosTuristicos.pontes}" var="item" rendered="#{pontosTuristicos.isPonteFiltered}">

                        <h:form>
                            <b:container></b:container>
                            <b:panel styleClass="card" title="#{item.nome}" collapsible="false">
                                <h:outputText value="#{item.tipoDeAtracao}"></h:outputText>
                                <!--<f:ajax></f:ajax>--> 
                                <p:commandButton value="Visualizar" oncomplete="$('#modalView').modal('show')"
                                                 update=":modalView" ajax="true" actionListener="#{pontosTuristicos.updateSelectedTouristSpot(item.id, item.tipoDeAtracao)}"
                                                 >
                                </p:commandButton>
                            </b:panel>
                            <b:container></b:container>
                        </h:form>

                    </ui:repeat> 
                </h:panelGroup>

                <h:panelGroup id="teatros">
                    <ui:repeat value="${pontosTuristicos.teatros}" var="item" rendered="#{pontosTuristicos.isTeatroFiltered}">

                        <h:form>
                            <b:container></b:container>
                            <b:panel styleClass="card" title="#{item.nome}" collapsible="false">
                                <h:outputText value="#{item.tipoDeAtracao}"></h:outputText>
                                <!--<f:ajax></f:ajax>--> 
                                <p:commandButton value="Visualizar" oncomplete="$('#modalView').modal('show')"
                                                 update=":modalView" ajax="true" actionListener="#{pontosTuristicos.updateSelectedTouristSpot(item.id, item.tipoDeAtracao)}"
                                                 >
                                </p:commandButton>
                            </b:panel>
                            <b:container></b:container>
                        </h:form>

                    </ui:repeat> 
                </h:panelGroup>
            </h:panelGroup>

        </f:view>






        <!--        <b:panel styleClass="card" title="Marco Zero" collapsible="false">
                    <h:outputText styleClass="font-card-endreco" value=" Av. Alfredo Lisboa, s/n - Recife, PE, 50030-150"></h:outputText>
                    <b:container></b:container>
                    <h:outputText styleClass="font-card-subtitle" value="Nome Popular: Recife Antigo"></h:outputText>
                    <b:container></b:container>
                    <h:outputText styleClass="font-card-subtitle" value="Bairro do Recife"></h:outputText>
                    <h:outputText styleClass="font-card-subtitle" value="         Recife"></h:outputText>
                </b:panel>
                <b:container></b:container>
                <b:panel styleClass="card" title="Marco Zero" collapsible="false">
                    <h:outputText styleClass="font-card-endreco" value=" Av. Alfredo Lisboa, s/n - Recife, PE, 50030-150"></h:outputText>
                    <b:container></b:container>
                    <h:outputText styleClass="font-card-subtitle" value="Nome Popular: Recife Antigo"></h:outputText>
                    <b:container></b:container>
                    <h:outputText styleClass="font-card-subtitle" value="Bairro do Recife"></h:outputText>
                    <h:outputText styleClass="font-card-subtitle" value="         Recife"></h:outputText>
                </b:panel>-->

        <!--                <h:outputText styleClass="font-card-endreco" value=" Av. Alfredo Lisboa, s/n - Recife, PE, 50030-150"></h:outputText>
                                                     <b:container></b:container>
                                                     <h:outputText styleClass="font-card-subtitle" value="Nome Popular: Recife Antigo"></h:outputText>
                                                     <b:container></b:container>
                                                     <i class="pi pi-check" style="font-size: 2rem"></i>
                                                     <h:outputText styleClass="font-card-subtitle" value="Bairro do Recife"></h:outputText>
                                                     <h:outputText styleClass="font-card-subtitle" value="         Recife"></h:outputText>-->

    </h:body>

</html>

